# 简单记录下速度
_所记录的速度都是第二次推理之后的结果_
## 1, 使用 controlnet.engine 与 unet.engine， 开启FP16

| Module      | Cost time|
|---          |---       |
| Preprocess  |    7.415 | \ 
| Clip        |   35.348 | \ 
| Ctrl & Unet |  836.029 | \ 
| Decode      |   10.542 | \ 
| Postprocess |   47.244 | \ 
| Total       |  936.578 | \ 

## 2, 使用 controlnet.engine、unet.engine 与 clip.engine， 开启FP16

clip部分有bug，输出Nan

| Module      | Cost time|
|---          |---       |
| Preprocess  |    7.620 | \ 
| Clip        |    5.493 | \ 
| Ctrl & Unet |  843.790 | \ 
| Decode      |    9.568 | \ 
| Postprocess |   47.595 | \ 
| Total       |  914.066 | \ 

## 3, 使用 controlnet.engine、unet.engine 与 decoder.engine， 开启FP16


| Module      | Cost time|
|---          |---       |
| Preprocess  |    4.008 | \ 
| Clip        |   29.684 | \ 
| Ctrl & Unet |  828.990 | \ 
| Decode      |   23.349 | \ 
| Postprocess |    0.932 | \ 
| Total       |  886.963 | \

## 3, 使用 controlnet.engine、unet.engine 与 decoder.engine， 开启FP16 预存 controlnet 与 unet 使用的buffer

| Module      | Cost time|
|---          |---       |
| Preprocess  |    4.542 | \ 
| Clip        |   28.044 | \ 
| Ctrl & Unet |  694.356 | \ 
| Decode      |   24.171 | \ 
| Postprocess |    0.922 | \ 
| Total       |  752.035 | \ 

## 4, steps=20
pd分
[2.421991977606215, 3.132378765019516, 3.6328922091596723, 1.4883711264374286, 5.775617235250268, 4.463559057150557, 4.598400460230559, 2.8655961442568736, 3.5720105111426483, 2.122779714876676, 3.3387070629809363, 2.7358047747996386, 2.6599916124796774, 1.048080380933792, 2.732117800707262, 2.96219820050584, 3.818059321952499, 3.1527237167490707, 6.1528682343511925, 2.7852605163291613]

A4000推理时间 约575ms

## 5, steps=20 * 0.8
[4.623678515928807, 4.338118168775466, 5.466321466946905, 4.614733892996592, 7.63266688739507, 5.811785664749873, 7.305336303627637, 4.942019778186541, 6.742475202563119, 3.767947348319969, 6.523981973372613, 5.875367194548356, 8.13041255286612, 3.780465597169681, 3.955697439107585, 6.040400235780585, 6.002014523324378, 6.257611310405742, 12.090022467804568, 7.614617068941547]

A4000推理时间 约500ms

## 5, steps=20 * 0.7
[4.8610238385982125, 4.341223990915839, 5.357500323360818, 5.128922629678662, 7.304740078573534, 7.377232493624535, 7.908927871625013, 4.665089477639094, 7.323432872095159, 3.7025429004923995, 6.193464652492641, 7.172123299162, 8.885209503060477, 3.647452236595812, 3.872453631982698, 6.771705371062614, 6.024776492924119, 6.387618792352878, 11.667257324512565, 8.39491655594834]
A4000推理时间 约451ms

